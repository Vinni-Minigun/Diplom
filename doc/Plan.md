# План автоматизации тестирования сервиса для покупки тура

### Перечень автоматизируемых сценариев:

##### Валидные данные

1. `Номер карты`:

_APPROVED_: `4444 4444 4444 4441`,

_DECLINED_: `4444 4444 4444 4442`;

2. `Месяц` - любой номер месяца из двух цифр (от 01 до 12), в случае, если в поле `Год` указывается текущий год, в поле `Месяц` должно быть последующее значение от текущего месяца.
3. `Год` - текущий или последующие года из двух цифр (от 21 до 99);
4. `Имя` - имя и фамилия владельца карты, состоящие из двух слов через пробел (>=2 букв каждое) на латинице (имя или фамилия могут содержать дефис);
5. `CVC/CVV` - любое число, состоящее из трех цифр (от 100 до 999).

##### Предусловия

1. Открыта главная страница сервиса, нажатие на кнопку `Купить`, открывается блок `Оплата по карте`.
2. Открыта главная страница сервиса, нажатие на кнопку `Купить в кредит`, открывается блок `Кредит по данным карты`.

### Тестовые сценарии

##### Позитивные:

+ Заполнение формы валидными данными с APPROVED-картой, нажатие на кнопку `Продолжить`. Успешная отправка формы, появление всплывающего окна об одобренной операции.

##### Негативные:

+ Заполнение формы валидными данными с DECLINED-картой, нажатие на кнопку `Продолжить`. Отправка формы, появление всплывающего окна об отклоненной операции.
+ Форма пустая, нажатие на кнопку `Продолжить`. Отправка формы не осуществляется, появление ошибок у всех полей.

###### Работа с полем `Номер карты`

+ Заполнение формы валидными данными, поле `Номер карты` - пустое, нажатие на кнопку 'Продолжить'. Отправка формы не осуществляется, появление ошибки у поля `Номер карты`.
+ Форма пустая, заполнение поля `Номер карты` текстовым значением из 16 символов на кириллице. Поле `Номер карты` не заполняется.
+ Форма пустая, заполнение поля `Номер карты` текстовым значением из 16 символов на латинице. Поле `Номер карты` не заполняется.
+ Форма пустая, заполнение поля `Номер карты` значением из 16 спецсимволов. Поле `Номер карты` не заполняется.
+ Форма пустая, заполнение поля `Номер карты` цифровым значением из 17 символов. Последний символ в поле `Номер карты` не вписывается.
+ Форма пустая, заполнение поля `Номер карты` цифровым значением, состоящим из 16-и нулей. Поле `Номер карты` заполняется, появление ошибки у поля.
+ Заполнение поля `Номер карты` невалидным значением `(<=15 символов)`, остальных полей валидными данными. Отправка формы не осуществляется, появление ошибки у поля `Номер карты`.

###### Работа с полем `Месяц`

+ Заполнение формы валидными данными, поле `Месяц` - пустое, нажатие на кнопку 'Продолжить'. Отправка формы не осуществляется, появление ошибки у поля `Месяц`.
+ Форма пустая, заполнение поля `Месяц` текстовым значением из 2 символов на латинице. Поле `Месяц` не заполняется.
+ Форма пустая, заполнение поля `Месяц` текстовым значением из 2 символов на кириллице. Поле `Месяц` не заполняется.
+ Форма пустая, заполнение поля `Месяц` значением из 2 спецсимволов. Поле `Месяц` не заполняется.
+ Форма пустая, заполнение поля `Месяц` цифровым значением из 3 символов. Последний символ в поле `Месяц` не вписывается.
+ Форма пустая, заполнение поля `Месяц` цифровым значением, состоящим из 2-х нулей. Поле `Месяц` заполняется, появление ошибки у поля.
+ Заполнение поля `Месяц` невалидным значением `(число >12)`, остальных полей валидными данными. Отправка формы не осуществляется, появление ошибки у поля `Месяц`.
+ Заполнение поля `Месяц` невалидным значением `(состоящим из одной цифры)`, остальных полей валидными данными. Отправка формы не осуществляется, появление ошибки у поля `Месяц`.

###### Работа с полем `Год`

+ Заполнение формы валидными данными, поле `Год` - пустое, нажатие на кнопку 'Продолжить'. Отправка формы не осуществляется, появление ошибки у поля `Год`.
+ Форма пустая, заполнение поля `Год` текстовым значением из 2 символов на латинице. Поле `Год` не заполняется.
+ Форма пустая, заполнение поля `Год` текстовым значением из 2 символов на кириллице. Поле `Год` не заполняется.
+ Форма пустая, заполнение поля `Год` значением из 2 спецсимволов. Поле `Год` не заполняется.
+ Форма пустая, заполнение поля `Год` цифровым значением из 3 символов. Последний символ в поле `Год` не вписывается.
+ Форма пустая, заполнение поля `Год` цифровым значением, состоящим из 2-х нулей. Поле `Год` заполняется, появление ошибки у поля.
+ Заполнение поля `Год` невалидным значением `(число <21)`, остальных полей валидными данными. Отправка формы не осуществляется, появление ошибки у поля `Год`.
+ Заполнение поля `Год` невалидным значением `(состоящим из одной цифры)`, остальных полей валидными данными. Отправка формы не осуществляется, появление ошибки у поля `Год`.

###### Работа с полем `Имя`

+ Заполнение формы валидными данными, поле `Имя` - пустое, нажатие на кнопку 'Продолжить'. Отправка формы не осуществляется, появление ошибки у поля `Имя`.
+ Форма пустая, заполнение поля `Имя` цифровым значением из 2 символов. Поле `Имя` не заполняется.
+ Форма пустая, заполнение поля `Имя` значением из 2 спецсимволов. Поле `Имя` не заполняется.
+ Форма пустая, заполнение поля `Имя` текстовым значением из 71 символа. Последний символ в поле `Имя` не вписывается.
+ Заполнение поля `Имя` невалидным значением `(состоящим из одного символа на латинице)`, остальных полей валидными данными. Отправка формы не осуществляется, появление ошибки у поля `Имя`.
+ Заполнение поля `Имя` невалидным значением `(состоящим из двух слов на кириллице)`, остальных полей валидными данными. Отправка формы не осуществляется, появление ошибки у поля `Имя`.

###### Работа с полем `CVC/CVV`

+ Заполнение формы валидными данными, поле `CVC/CVV` - пустое, нажатие на кнопку 'Продолжить'. Отправка формы не осуществляется, появление ошибки у поля `CVC/CVV`.
+ Форма пустая, заполнение поля `CVC/CVV` текстовым значением из 3 символов на латинице. Поле `CVC/CVV` не заполняется.
+ Форма пустая, заполнение поля `CVC/CVV` текстовым значением из 3 символов на кириллице. Поле `CVC/CVV` не заполняется.
+ Форма пустая, заполнение поля `CVC/CVV` значением из 3 спецсимволов. Поле `CVC/CVV` не заполняется.
+ Форма пустая, заполнение поля `CVC/CVV` цифровым значением из 4 символов. Последний символ в поле `CVC/CVV` не вписывается.
+ Форма пустая, заполнение поля `CVC/CVV` цифровым значением, состоящим из 3-х нулей. Поле `CVC/CVV` заполняется, появление ошибки у поля.
+ Заполнение поля `CVC/CVV` невалидным значением `(состоящим из 1-2 цифр)`, остальных полей валидными данными. Отправка формы не осуществляется, появление ошибки у поля `CVC/CVV`.

### Перечень используемых инструментов:

1. `IntelliJ IDEA 2021.3.2` - функциональная среда разработки, подходящая для многих языков программирования;
2. `Java 11` - объектно-ориентированный язык программирования, оптимальный для написания понятных и наглядных автотестов;
3. `Docker` — ПО для автоматизации развёртывания и управления приложением в средах с поддержкой контейнеризации;
4. `Gradle` - мощная и простая система автоматической сборки проектов;
5. `Selenide` - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver;
6. `JUnit 5` - среда модульного тестирования для языка программирования Java;
7. `MySQL 8.0.28` (заявлена поддержка этой СУБД)
8. `PostgreSQL 14.1` (заявлена поддержка этой СУБД)
9. `REST Assured` — для тестирования API сервиса, встраивается в тесты на Java;
10. `Faker` - генерация недостающих данных для тестирования;  
11. `Lombok` - библиотека для сокращения количества шаблонного кода, для объявления локальной переменной вместо указания реального типа;
12. `Allure` - фреймворк для создания визуально наглядной картины выполнения тестов.




### Перечень и описание возможных рисков при автоматизации:


1. Отсутствие технической документации. 
2. Трудности с подключением к тестовому стенду.
3. Поиск локаторов (селекторов) тестовой страницы.
4. Возможное изменение верстки (поведения) и селекторов страницы.
5. Возможные проблемы с соединением во время работы с тестовым стендом.
6. Временные затраты на настройку `Docker`.
7. Неверный выбор инструментов для тестирования. Зависимость от таких инструментов.
8. Отсутствие test-id в css-селекторах усложняет написание автотестов.
9. Использование двух БД может привести к затруднениям и ошибкам.



### Интервальная оценка с учётом рисков (в часах):


Для осуществления данного плана необходимо `80 часов`.


### План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации):


##### Авто-тесты: `15.03.2022`.
##### Результаты прогона авто-тестов: `16.03.2022`.
##### Отчет по автоматизации: `17.03.2022`.
